# fs (ูุธุงู ุงููููุงุช)

## ุงููุตู
ูุงุฌูุฉ Node.js ููุชุนุงูู ูุน ูุธุงู ุงููููุงุช (ูุฑุงุกุฉุ ูุชุงุจุฉุ ุญุฐูุ ุฅุฏุงุฑุฉ ุงููููุงุช ูุงููุฌูุฏุงุช) ูุชุฏุนู ุงูุนูููุงุช ุงููุชุฒุงููุฉ ูุบูุฑ ุงููุชุฒุงููุฉ ุนุจุฑ Callbacks ูPromises. ุชูุณุชุฎุฏู ุจูุซุฑุฉ ูู ุชุทุจููุงุช ุงูุฎูุงุฏู ููุนุงูุฌุฉ ุงููููุงุช ุงููุตูุฉุ ุงูุตูุฑุ ุงูุณุฌูุงุช.

---

## ุงูุฏูุงู ุงูุฃุณุงุณูุฉ

| ุงูุฏุงูุฉ                | ุงููุนุงููุงุช                | ุงููุตู                        |
|-----------------------|--------------------------|------------------------------|
| `fs.readFile`         | path, options, callback  | ูุฑุงุกุฉ ููู                    |
| `fs.writeFile`        | file, data, options      | ูุชุงุจุฉ ููู                    |
| `fs.appendFile`       | path, data, options      | ุฅุถุงูุฉ ุจูุงูุงุช ูููุงูุฉ ููู      |
| `fs.createReadStream` | path, options            | ุฅูุดุงุก Stream ูููุฑุงุกุฉ         |
| `fs.createWriteStream`| path, options            | ุฅูุดุงุก Stream ูููุชุงุจุฉ         |
| `fs.stat`             | path, options, callback  | ูุนูููุงุช ุนู ููู/ูุฌูุฏ         |
| `fs.mkdir`            | path, options, callback  | ุฅูุดุงุก ูุฌูุฏ                   |
| `fs.rm`               | path, options, callback  | ุญุฐู ููู ุฃู ูุฌูุฏ              |
| `fs.rename`           | oldPath, newPath, cb     | ุฅุนุงุฏุฉ ุชุณููุฉ ููู/ูุฌูุฏ         |
| ...                   | ...                      | ...                          |

---

## ููุงุฑูุฉ ุจูู ุงูุฏูุงู ุงููุชุดุงุจูุฉ

| ุงููุนูุงุฑ            | fs.readFile()      | fs.createReadStream() |
|--------------------|--------------------|-----------------------|
| ุญุฌู ุงูููู ุงูููุงุณุจ  | < 100MB            | > 100MB               |
| ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ    | ุนุงูู               | ููุฎูุถ                 |
| ุงูุฃุฏุงุก             | ุฃุจุทุฃ ูููููุงุช ุงููุจูุฑุฉ| ุฃุณุฑุน ูููููุงุช ุงููุจูุฑุฉ  |
| ุฃุณููุจ ุงููุฑุงุกุฉ      | ุฏูุนุฉ ูุงุญุฏุฉ         | ุฃุฌุฒุงุก (chunks)        |

---

## ุฃูุซูุฉ ุนูููุฉ ูุชูุฏูุฉ

```js
// ูุฑุงุกุฉ ููู ูุจูุฑ ุจุงุณุชุฎุฏุงู Stream ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
const fs = require('fs');
const readStream = fs.createReadStream('bigfile.txt', { encoding: 'utf8' });
readStream.on('data', chunk => {
  console.log('ุฌุฒุก:', chunk.length);
});
readStream.on('error', err => {
  console.error('ุฎุทุฃ ูู ุงููุฑุงุกุฉ:', err);
});
readStream.on('end', () => {
  console.log('ุงูุชูุช ุงููุฑุงุกุฉ.');
});
```

```js
// ูุซุงู ูุชูุฏู: ุงูุชุนุงูู ูุน ุงูุฃุฐููุงุช ููููุงุช ุญุณุงุณุฉ
const fs = require('fs');
fs.access('secret.txt', fs.constants.R_OK, (err) => {
  if (err) {
    console.error('ูุง ูููู ูุฑุงุกุฉ ุงูููู (ูุฏ ูููู ูุญูููุง):', err);
  } else {
    fs.readFile('secret.txt', 'utf8', (err, data) => {
      if (err) return console.error('ุฎุทุฃ ูู ุงููุฑุงุกุฉ:', err);
      console.log('ุงููุญุชูู:', data);
    });
  }
});
```

---

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูุดุงุฆุนุฉ
- ูุฑุงุกุฉ ููุชุงุจุฉ ูููุงุช ุงูุฅุนุฏุงุฏุงุช (JSON, TXT)
- ุญูุธ ุณุฌูุงุช ุงูุฎุงุฏู (logs)
- ุฑูุน ูุชุญููู ุงููููุงุช ูู ุชุทุจููุงุช ุงูููุจ
- ูุนุงูุฌุฉ ุงูุตูุฑ ุฃู ุงููููุงุช ุงูุซูุงุฆูุฉ
- ูุฑุงูุจุฉ ุงูุชุบููุฑุงุช ุนูู ุงููููุงุช (watch)

---

## ุฃูุถู ุงูููุงุฑุณุงุช
- ุงุณุชุฎุฏู ุงูุฏูุงู ุบูุฑ ุงููุชุฒุงููุฉ (Async) ูู ุจูุฆุฉ ุงูุฎุงุฏู
- ุฃุบูู ุฌููุน file descriptors ุจุนุฏ ุงูุงูุชูุงุก
- ุงุณุชุฎุฏู Streams ูููููุงุช ุงููุจูุฑุฉ
- ุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู ูุจู ุงูุนูููุงุช ุงูุญุณุงุณุฉ
- ุงุณุชุฎุฏู try/catch ูุน ุงูุฏูุงู ุงููุชุฒุงููุฉ
- ุงุณุชุฎุฏู fs.promises ูAsync/Await ููููุฏ ุงูุญุฏูุซ

---

## ุงูุชุญุฐูุฑุงุช ุงูุฃูููุฉ
- ูุง ุชุนุฑุถ ูุณุงุฑุงุช ุฃู ูุญุชูู ุงููููุงุช ุงูุญุณุงุณุฉ ูููุณุชุฎุฏู ุงูููุงุฆู
- ุชุญูู ูู ูุฏุฎูุงุช ุงููุณุชุฎุฏู ูุจู ุชูุฑูุฑูุง ููุณุงุฑุงุช ุงููููุงุช
- ุชุฌูุจ ุงููุชุงุจุฉ ููู ูููุงุช ุงููุธุงู ุฃู ูููุงุช ุงูุชูููู ุงููุงูุฉ
- ุฑุงูุจ ุนุฏุฏ ุงููููุงุช ุงูููุชูุญุฉ ูุชุฌูุจ ุชุณุฑุจ ุงูููุงุฑุฏ

---

## ุฃุฏูุงุช ุงูุชุตุญูุญ ุงููุชุนููุฉ
- [node-inspect](https://nodejs.org/en/docs/guides/debugging-getting-started/)
- [lsof](https://linux.die.net/man/8/lsof) (ููุฑุงูุจุฉ ุงููููุงุช ุงูููุชูุญุฉ)
- [strace](https://linux.die.net/man/1/strace) (ุชุชุจุน ุงุณุชุฏุนุงุกุงุช ุงููุธุงู)

---

## ุงูุชูุงูู ูุน ุฅุตุฏุงุฑุงุช Node.js
- ูุนุธู ุฏูุงู fs ูุณุชูุฑุฉ ููุฐ ุงูุฅุตุฏุงุฑุงุช ุงูุฃููู
- ุจุนุถ ุงูุฏูุงู ูุซู fs.rm ูfs.cp ุฃุถููุช ูู Node.js 14+
- ุฑุงุฌุน [ุชูุซูู Node.js](https://nodejs.org/docs/latest/api/fs.html) ูุฃู ุชุบููุฑุงุช ุญุฏูุซุฉ

---

## ูุฎุทุท ุชุฏูู (Mermaid)
```mermaid
graph TD
  A[ุงููุณุชุฎุฏู] -->|ุทูุจ ูุฑุงุกุฉ ููู| B(fs.readFile)
  B -->|ุฅุฑุฌุงุน ุงูุจูุงูุงุช| C[ุงููุณุชุฎุฏู]
  A -->|ุทูุจ ูุฑุงุกุฉ ููู ูุจูุฑ| D(fs.createReadStream)
  D -->|chunks| C
```

---

## ุงุฎุชุจุงุฑ ุชูุงุนูู
```js
const test = require('node:test');
const assert = require('node:assert');
const fs = require('fs');

test('ุงุฎุชุจุงุฑ ูุชุงุจุฉ ููุฑุงุกุฉ ููู', async (t) => {
  const file = 'test.txt';
  await fs.promises.writeFile(file, 'hello');
  const data = await fs.promises.readFile(file, 'utf8');
  assert.strictEqual(data, 'hello');
  await fs.promises.unlink(file);
});
```

---

## ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
- [โ] ูุณูุงู ุฅุบูุงู file descriptors โ ุงูุญู: ุงุณุชุฎุฏู ุฏุงุฆููุง fs.close ุฃู fileHandle.close().
- [โ] ุนุฏู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู callbacks โ ุงูุญู: ุชุญูู ุฏุงุฆูุงู ูู ูุฌูุฏ ุฎุทุฃ ูุจู ูุนุงูุฌุฉ ุงููุชูุฌุฉ.
- [โ] ุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุชุฒุงููุฉ ูู ุชุทุจููุงุช ุงูุฎุงุฏู โ ุงูุญู: ุงุณุชุฎุฏู ุงูุฏูุงู ุบูุฑ ุงููุชุฒุงููุฉ ุฏุงุฆูุงู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ.
- [โ] ุนุฏู ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู โ ุงูุญู: ุงุณุชุฎุฏู fs.access ูุจู ุงูุนูููุงุช ุงูุญุณุงุณุฉ.

---

## ูุตุงุฆุญ ุงูุฎุจุฑุงุก
- [๐ก] ุงุณุชุฎุฏู Promises ุฃู Async/Await ููุชุงุจุฉ ููุฏ ุฃูุซุฑ ูุถูุญุงู ูุฃูู ุนุฑุถุฉ ููุฃุฎุทุงุก.
- [โ๏ธ] ูุง ุชุนุฑุถ ูุณุงุฑุงุช ุงููููุงุช ุงูุญุณุงุณุฉ ูููุณุชุฎุฏู ุงูููุงุฆู.
- [๐] ุงุณุชุฎุฏู Streams ูููููุงุช ุงููุจูุฑุฉ ูุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูุชุญุณูู ุงูุฃุฏุงุก.
- [๐ก] ุฃุบูู ุฌููุน file descriptors ุจุนุฏ ุงูุงูุชูุงุก ูุชุฌูุจ ุชุณุฑุจ ุงูุฐุงูุฑุฉ.
- [๐] ุฑุชุจ ุงูุนูููุงุช ุงููุชุณูุณูุฉ (ูุซู rename ุซู stat) ุจุงุณุชุฎุฏุงู await ุฃู ุฏุงุฎู callback ูุชุฌูุจ ุงูุณุจุงู.
- [โ๏ธ] ุงุณุชุฎุฏู fs.access ุจุฏูุงู ูู fs.exists ููุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู.
- [๐ก] ุงุณุชุฎุฏู fs.promises ููุฏูุงู ุงูุญุฏูุซุฉ ุงูุชู ุชุฏุนู Promises ุจุดูู ุฃูุถู.
- [๐] ุงุณุชุฎุฏู highWaterMark ูู Streams ูุชุญุณูู ุงูุฃุฏุงุก ูุน ุงููููุงุช ุงููุจูุฑุฉ.
- [โ๏ธ] ุชุญูู ูู ูุฌูุฏ ุงูููู ูุจู ุงูุนูููุงุช ุงูุญุณุงุณุฉ ูุชุฌูุจ ุงูุฃุฎุทุงุก.
- [๐ก] ุงุณุชุฎุฏู try-catch ูุน ุงูุฏูุงู ุงููุชุฒุงููุฉ ู error handling ูุน ุงูุฏูุงู ุบูุฑ ุงููุชุฒุงููุฉ. 